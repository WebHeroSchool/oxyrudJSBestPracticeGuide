# Java Script Best Practice Guide
## Избегайте глобальных переменных
Минимизируйте использование глобальных переменных.
Это включает в себя все типы данных, объекты и функции.
Глобальные переменные и функции могут быть перезаписаны другими скриптами.
Вместо этого используйте локальные переменные и научитесь использовать замыкания.

## Всегда объявляйте локальные переменные
Все переменные, используемые в функции, должны быть объявлены как локальные переменные.
Локальные переменные должны быть объявлены с ключевым словом var или ключевым словом let, в противном случае они станут глобальными переменными.

## Объявления сверху
Хорошей практикой написания кода является размещение всех объявлений в начале каждого скрипта или функции.
Это:
*Сделает чище код
*Предоставит единственное место для поиска локальных переменных
*Позволит избегать нежелательных (подразумеваемых) глобальных переменных
*Уменьшит возможность нежелательных повторных объявлений
Инициализация переменных даёт представление о предполагаемом использовании (и предполагаемом типе данных).

## Инициализация переменных
Хорошей практикой кодирования является инициализация переменных при их объявлении.
Это:
*Сделает код чище
*Предоставит единственное место для инициализации переменных
*Позволит избежать неопределенных значений
Инициализация переменных даёт представление о предполагаемом использовании (и предполагаемом типе данных).
```
// Объявите и инициализируйте в начале
var firstName = "",
lastName = "",
price = 0,
discount = 0,
fullPrice = 0,
myArray = [],
myObject = {};
```

##Объявляйте переменные для 'for" вне циклов
Когда выполняете долгий цикл «for» не заставляйте делать движок больше работы чем нужно.
```
//Пример
var container = document.getElementById('container');  
for(var i = 0, len = someArray.length; i < len;  i++) {  
   container.innerHtml += 'my number: ' + i;  
   console.log(i);  
}  
```

## Никогда не объявляйте числовые (number), строковые (string) или логические (boolean) объекты
Всегда обрабатывайте числа, строки или логические значения как примитивные значения. Но не как объекты.
Объявление этих типов как объектов замедляет скорость выполнения и вызывает неприятные побочные эффекты:
```
//Пример
var x = "John";             
var y = new String("John");
(x === y) // является false, потому что x является строкой и y является объектом.

var x = new String("John");             
var y = new String("John");
(x == y) // является false, потому что вы не можете сравнивать объекты.
```

## Не используйте new Object()
*Используйте {} вместо new Object()
*Используйте "" вместо new String()
*Используйте 0 вместо new Number()
*Используйте false вместо new Boolean()
*Используйте /()/ вместо new RegExp()
*Используйте function (){} вместо new Function()
```
//Пример
var x1 = {};           // new object
var x2 = "";           // new primitive string
var x3 = 0;            // new primitive number
var x4 = false;        // new primitive boolean
var x5 = [];           // new array object
var x6 = /()/;         // new regexp object
var x7 = function(){}; // new function object
```

## Остерегайтесь автоматических преобразований типов
Помните, что числа могут быть случайно преобразованы в строки или NaN (Not a Number / Не число).
JavaScript слабо типизирован. Переменная может содержать разные типы данных, а переменная может изменять свой тип данных:
```
//Пример
var x = "Hello";     // по типу x является строкой
x = 5;               // изменение типа x на число
```
При выполнении математических операций JavaScript может преобразовывать числа в строки:
```
//Пример
var x = 5 + 7;       // x.valueOf() является 12,  тип x является числом
var x = 5 + "7";     // x.valueOf() является 57,  тип x является строкой
var x = "5" + 7;     // x.valueOf() является 57,  тип x является строкой
var x = 5 - 7;       // x.valueOf() является -2,  тип x является числом
var x = 5 - "7";     // x.valueOf() является -2,  тип x является числом
var x = "5" - 7;     // x.valueOf() является -2,  тип x является числом
var x = 5 - "x";     // x.valueOf() является NaN, тип x является числом
```
Вычитание строки из строки не генерирует ошибку, но возвращает NaN (Not a Number):
```
//Пример
"Hello" - "Dolly"    // возвращает NaN
```

## Используйте === Сравнение
Оператор сравнения == всегда преобразует (в соответствующие типы) перед сравнением.
Оператор === вызывает сравнение значений и типа:
```
Пример
0 == "";        // true
1 == "1";       // true
1 == true;      // true

0 === "";       // false
1 === "1";      // false
1 === true;     // false
```

## Использование параметров по умолчанию
Если функция вызывается с отсутствующим аргументом, значение отсутствующего аргумента устанавливается в undefined (не определено).
Неопределенные значения могут нарушить ваш код. Это хорошая привычка назначать значения по умолчанию для аргументов.
```
//Пример
function myFunction(x, y) {
  if (y === undefined) {
    y = 0;
  }
}
```

## Завершите переключатели (switch) по умолчанию
Всегда завершайте операторы switch значением default. Даже если вы думаете, что в этом нет необходимости.
```
//Пример
switch (new Date().getDay()) {
  case 0:
    day = "Sunday";
    break;
  case 1:
    day = "Monday";
    break;
  case 2:
    day = "Tuesday";
    break;
  case 3:
    day = "Wednesday";
    break;
  case 4:
    day = "Thursday";
    break;
  case 5:
    day = "Friday";
    break;
  case 6:
    day = "Saturday";
    break;
  default:
    day = "Unknown";
}
```

## Переместите скрипты вниз страницы
Основная цель этого совета — заставить страницу грузиться как можно быстрее. Когда браузер грузит скрипт он не продолжит рендеринг пока весь файл не будет загружен. Таким образом пользователю придется ждать дольше.
Если ваши JS скрипты служать для добавления функционала — например, обработки кликов кнопки то вам стоит перенести скрипты вниз поставив их перед закрывающимся тегом body.
```
//Пример
<p>And now you know my favorite kinds of corn. </p>  
<script type="text/javascript" src="path/to/file.js"></script>  
<script type="text/javascript" src="path/to/anotherFile.js"></script>  
</body>  
</html>
```

## Избегайте использования eval()
Функция eval() используется для запуска текста как кода. Практически во всех случаях нет необходимости использовать её.
Поскольку это позволяет запускать произвольный код, а также представляет проблему безопасности.

